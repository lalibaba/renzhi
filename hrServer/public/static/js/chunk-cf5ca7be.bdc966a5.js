(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf5ca7be"],{"0ccb":function(e,t,a){var r=a("e330"),n=a("50c4"),i=a("577e"),l=a("1148"),s=a("1d80"),o=r(l),c=r("".slice),u=Math.ceil,d=function(e){return function(t,a,r){var l,d,p=i(s(t)),f=n(a),g=p.length,m=void 0===r?" ":i(r);return f<=g||""==m?p:(l=f-g,d=o(m,u(l/m.length)),d.length>l&&(d=c(d,0,l)),e?p+d:d+p)}};e.exports={start:d(!1),end:d(!0)}},1276:function(e,t,a){"use strict";var r=a("2ba4"),n=a("c65b"),i=a("e330"),l=a("d784"),s=a("44e7"),o=a("825a"),c=a("1d80"),u=a("4840"),d=a("8aa5"),p=a("50c4"),f=a("577e"),g=a("dc4a"),m=a("4dae"),b=a("14c3"),h=a("9263"),v=a("9f7f"),x=a("d039"),w=v.UNSUPPORTED_Y,k=4294967295,y=Math.min,j=[].push,O=i(/./.exec),D=i(j),P=i("".slice),$=!x((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));l("split",(function(e,t,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var i=f(c(this)),l=void 0===a?k:a>>>0;if(0===l)return[];if(void 0===e)return[i];if(!s(e))return n(t,i,e,l);var o,u,d,p=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),b=0,v=new RegExp(e.source,g+"g");while(o=n(h,v,i)){if(u=v.lastIndex,u>b&&(D(p,P(i,b,o.index)),o.length>1&&o.index<i.length&&r(j,p,m(o,1)),d=o[0].length,b=u,p.length>=l))break;v.lastIndex===o.index&&v.lastIndex++}return b===i.length?!d&&O(v,"")||D(p,""):D(p,P(i,b)),p.length>l?m(p,0,l):p}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:n(t,this,e,a)}:t,[function(t,a){var r=c(this),l=void 0==t?void 0:g(t,e);return l?n(l,t,r,a):n(i,f(r),t,a)},function(e,r){var n=o(this),l=f(e),s=a(i,n,l,r,i!==t);if(s.done)return s.value;var c=u(n,RegExp),g=n.unicode,m=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(w?"g":"y"),h=new c(w?"^(?:"+n.source+")":n,m),v=void 0===r?k:r>>>0;if(0===v)return[];if(0===l.length)return null===b(h,l)?[l]:[];var x=0,j=0,O=[];while(j<l.length){h.lastIndex=w?0:j;var $,V=b(h,w?P(l,j):l);if(null===V||($=y(p(h.lastIndex+(w?j:0)),l.length))===x)j=d(l,j,g);else{if(D(O,P(l,x,j)),O.length===v)return O;for(var C=1;C<=V.length-1;C++)if(D(O,V[C]),O.length===v)return O;j=x=$}}return D(O,P(l,x)),O}]}),!$,w)},"4d90":function(e,t,a){"use strict";var r=a("23e7"),n=a("0ccb").start,i=a("9a0c");r({target:"String",proto:!0,forced:i},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},7424:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"角色管理","active-name":"",name:"second"}},[a("el-row",{staticStyle:{height:"60px"}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.handleAdd}},[e._v("新增角色")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"120"}}),a("el-table-column",{attrs:{align:"center",prop:"name",label:"名称",width:"240"}}),a("el-table-column",{attrs:{align:"center",prop:"description",label:"描述"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){return e.givePre(t.row.id)}}},[e._v("分配权限")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.del(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-row",{staticStyle:{height:"60px"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes, total",total:e.total,"current-page":e.page.page,"page-size":e.page.pagesize,"page-sizes":[5,10,20,30]},on:{"update:pageSize":function(t){return e.$set(e.page,"pagesize",t)},"update:page-size":function(t){return e.$set(e.page,"pagesize",t)},"current-change":e.changePage,"size-change":e.changeSize}})],1)],1),a("el-tab-pane",{attrs:{label:"公司信息","active-name":"",name:"first"}},[a("el-alert",{attrs:{title:"对公司名称、公司地址、营业执照、公司地区的更新，将使得公司资料被重新审核，请谨慎修改",type:"info","show-icon":"",closable:!1}}),a("el-form",{staticStyle:{"margin-top":"50px"},attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"公司名称"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"公司地址"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{disabled:""},model:{value:e.formData.companyAddress,callback:function(t){e.$set(e.formData,"companyAddress",t)},expression:"formData.companyAddress"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{disabled:""},model:{value:e.formData.mailbox,callback:function(t){e.$set(e.formData,"mailbox",t)},expression:"formData.mailbox"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:3,disabled:""},model:{value:e.formData.remarks,callback:function(t){e.$set(e.formData,"remarks",t)},expression:"formData.remarks"}})],1)],1)],1)],1)],1),a("roleDialog",{ref:"roleDialog",attrs:{"dialog-visible":e.dialogVisible},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t}}}),a("HrsaasManagerPermission",{ref:"hrsaasManagerPermission",attrs:{"user-id":e.userId,"give-pre-visible":e.givePreVisible},on:{"update:givePreVisible":function(t){e.givePreVisible=t},"update:give-pre-visible":function(t){e.givePreVisible=t}}})],1)},n=[],i=a("c7eb"),l=a("1da1"),s=a("5530"),o=a("365c"),c=a("2f62"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:(e.roleForm.id?"修改":"新增")+"角色",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"roleDialogForm",attrs:{model:e.roleForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"name",label:"角色",rules:[{required:!0,message:"角色名称不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入角色"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",row:"3",placeholder:"请输入描述"},model:{value:e.roleForm.description,callback:function(t){e.$set(e.roleForm,"description",t)},expression:"roleForm.description"}})],1)],1),a("el-row",{staticClass:"dialog-footer",attrs:{slot:"footer",type:"flex",justify:"center",align:"middle"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submitRole}},[e._v("确 定")])],1)],1)},d=[],p={name:"Hrsaas1RoleDialog",props:{dialogVisible:{type:Boolean,default:!1}},data:function(){return{loading:!1,roleForm:{name:"",description:""}}},methods:{handleClose:function(){this.$emit("update:dialogVisible",!1),this.$refs.roleDialogForm.resetFields(),this.roleForm={name:"",description:""}},submitRole:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.roleDialogForm.validate();case 3:if(e.loading=!0,!e.roleForm.id){t.next=9;break}return t.next=7,Object(o["y"])(e.roleForm);case 7:t.next=11;break;case 9:return t.next=11,Object(o["d"])(e.roleForm);case 11:e.$parent.getRoleList(),e.$message.success("角色".concat(e.roleForm.id?"修改":"新增","成功")),e.handleClose(),t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](0);case 18:return t.prev=18,e.loading=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,16,18,21]])})))()}},prop:{}},f=p,g=a("2877"),m=Object(g["a"])(f,u,d,!1,null,null,null),b=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"分配权限",visible:e.givePreVisible,"before-close":e.handleClose}},[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"permTree",attrs:{data:e.permData,props:e.defaultProps,"default-expand-all":!0,"show-checkbox":"","check-strictly":!0,"default-checked-keys":e.selectCheck,"node-key":"id"}}),a("el-row",{attrs:{slot:"footer",type:"flex",justify:"center"},slot:"footer"},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.assignPerm}},[e._v("确定")]),a("el-button",{attrs:{size:"small"},on:{click:e.handleClose}},[e._v("取消")])],1)],1)],1)},v=[],x=a("ed08"),w={name:"HrsaasManagerPermission",props:{givePreVisible:{type:Boolean,default:!1}},data:function(){return{selectCheck:[],permData:[],defaultProps:{label:"name"},loading:!1}},methods:{handleClose:function(){this.selectCheck=[],this.$emit("update:givePreVisible",!1)},getPermissionList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(o["o"])();case 4:return a=t.sent,e.permData=Object(x["a"])(a,"0"),t.next=8,Object(o["p"])(e.$attrs["user-id"]);case 8:r=t.sent,n=r.permIds,e.selectCheck=n,t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](0);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,13,15,18]])})))()},assignPerm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(o["e"])({permIds:e.$refs.permTree.getCheckedKeys(),id:e.$attrs["user-id"]});case 4:e.$message.success("权限分配成功"),e.handleClose(),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})))()}}},k=w,y=Object(g["a"])(k,h,v,!1,null,null,null),j=y.exports,O={name:"Hrsaas1Index",components:{roleDialog:b,HrsaasManagerPermission:j},data:function(){return{givePreVisible:!1,dialogVisible:!1,activeName:"second",list:[],page:{page:1,pagesize:10},loading:!1,total:0,formData:{},userId:null}},computed:Object(s["a"])({},Object(c["b"])(["companyId"])),created:function(){this.getRoleList(),this.getCompanyInfo()},methods:{givePre:function(e){this.$refs.hrsaasManagerPermission.getPermissionList(),this.givePreVisible=!0,this.userId=e},handleAdd:function(){this.dialogVisible=!0},changePage:function(e){this.page.page=e,this.getRoleList()},changeSize:function(){this.getRoleList()},getRoleList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(o["q"])(e.page);case 4:a=t.sent,r=a.rows,n=a.total,e.list=r,e.total=n,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,11,13,16]])})))()},getCompanyInfo:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["k"])(e.companyId);case 2:e.formData=t.sent;case 3:case"end":return t.stop()}}),t)})))()},edit:function(e){this.dialogVisible=!0,this.$refs.roleDialog.roleForm=Object(s["a"])({},e)},del:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("是否确认删除该角色？","提示",{type:"warning"});case 3:return a.next=5,Object(o["j"])(e);case 5:t.$message.success("角色删除成功"),t.page.page=1,t.getRoleList(),a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](0);case 12:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}},D=O,P=Object(g["a"])(D,r,n,!1,null,"36499637",null);t["default"]=P.exports},"9a0c":function(e,t,a){var r=a("342f");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},ed08:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("53ca"),a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("c607"),a("2c3e"),a("25f0"),a("d3b7"),a("4d90"),a("1276"),a("159b");function r(e,t){var a=[];return e.forEach((function(n){if(n.pid===t){var i=r(e,n.id);i.length>0&&(n.children=i),a.push(n)}})),a}}}]);